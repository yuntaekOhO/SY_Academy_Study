
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>submit</title>
<style type="text/css">
#terms{
	width:400px;
	height:50px;
	overflow:auto;
	border:1px solid #bbb;
}
form{
	width:550px;
}
</style>
<script type="text/javascript">
	window.onload=function(){
		let f1 = document.getElementById('f1');
		f1.onsubmit=function(){
			let accept = document.getElementById('accept');
			if(!accept.checked){//체크되어 있지 않으면 false
				alert('약관에 동의해야 합니다.');
				return false;
			}
		};
		
		//전체 체크박스
		let allChk = document.getElementById('allChk');
		//개별 체크박스
		let checkbox = document.getElementsByName('subject');
		
		//전체 체크박스 이벤트 연결
		allChk.onclick=function(){
			for(let i=0;i<checkbox.length;i++){
				if(this.checked){//전체 체크박스를 선택했을 때
					//개별 체크박스를 모두 true로 처리
					checkbox[i].checked = true;
				}else{//전체 체크박스 선택을 해제했을 때
					//개별 체크박스를 모두 false로 처리
					checkbox[i].checked = false;
				}
			}
		};
		//개별 체크박스 이벤트 연결
		for(let i=0;i<checkbox.length;i++){
			checkbox[i].onclick=function(){
				if(checkbox[0].checked 
				                 && checkbox[1].checked 
						          && checkbox[2].checked){
					//개별 체크박스가 모두 true이면 
					//전체 체크박스도 true로 처리
					allChk.checked = true;
				}else{
					//개별 체크박스에서 하나라도 false가 존재하면
					//전체 체크박스는 false로 처리
					allChk.checked = false;
				}
			};
		}
		
	};
</script>
</head>
<body>
<form action="a.jsp" method="post" id="f1">
	<fieldset>
		<legend>폼 요소</legend>
		<div id="terms">
			회사는 법령이 정하는 바에 따라 &quot;회원&quot;의 
			개인정보를 보호하기 위해 노력합니다.
			개인정보의 보호 및 사용에 대해서는 관련법 및 회사의
			개인정보취급방침이 적용됩니다.
		</div>
		<p>
			<input type="checkbox" name="accept" id="accept">
			<label for="accept">약관에 동의합니다.</label>
		</p>
		<p>
			<input type="checkbox" name="allChk" id="allChk">
			<label for="allChk">전체선택</label><br>
			
			<input type="checkbox" name="subject" id="subject1"
			     value="국어"><label for="subject1">국어</label><br>
			<input type="checkbox" name="subject" id="subject2"
			     value="영어"><label for="subject2">영어</label><br>
			<input type="checkbox" name="subject" id="subject3"
			     value="수학"><label for="subject3">수학</label>          
		</p>
		<p>
			<input type="submit" value="등록 완료">
		</p>
	</fieldset>
</form>
</body>
</html>


