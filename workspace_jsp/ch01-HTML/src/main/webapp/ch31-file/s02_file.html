<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>이미지 미리보기</title>
<script type="text/javascript">
	window.onload=function(){
		let file = document.getElementById('file');
		let image = document.getElementById('image');
		
		//이벤트 연결
		file.onchange=function(){
			//파일이 선택 안된 경우
			if(!file.files[0]){ //file.files[0] == undefined 
				alert('파일을 선택하세요');
				//기본이미지로 되돌리기
				image.src = '../images/face.png';
				return;
			}
			
			//파일 선택 된 경우
			//이미지 처리
			let reader = new FileReader();
			//파일 객체로부터 이미지를 읽어들임
			reader.readAsDataURL(file.files[0]);
			
			reader.onload=function(){
				image.src = reader.result;
			};
		};
	};
</script>
</head>
<body>
	<h2>이미지 미리보기</h2>
	<div>
		<img id="image" src="../images/face.png" width="200" height="200" alt="Image Preview">
	</div>
	<input type="file" id="file" accept="image/gif,image/png,image/jpeg">
</body>
</html>